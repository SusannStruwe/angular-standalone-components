

<div class="navigation-bar">
    <btn-group-component
        [btnArray] = "buttons"
        [activeBtn]="activeTimeSpanBtn"
        (btnSelected)="timeSpanBtnClicked($event)">
    </btn-group-component>

    <div class="flex-row">
        <button (click)="previous()">
            <fa-icon [icon]="faArrowLeft"></fa-icon>
        </button>
        <button (click)="next()">
            <fa-icon [icon]="faArrowRight"></fa-icon>
        </button>
    </div>
</div>

<div class="scheduler">

    <!--header-->
    <div class="scheduler-header">
        <!--first row-->
        <div></div>
        <span class="flex-column">
            <!--time span title-->
            <div>
                <h2 *ngIf="timeSpan !=='day'" [style.min-width]="'290px'">{{startDate | date:'dd.' }} - {{endDate | date:'dd. MMMM yyyy'}}</h2>
                <h2 *ngIf="timeSpan ==='day'"  [style.min-width]="'200px'">{{endDate | date:'dd. MMMM yyyy'}}</h2>
            </div>
            <!--week days-->
            <div class="flex-row" *ngIf="timeSpan !== 'day'">
                <div *ngFor="let item of getWeekDays(); let i = index"
                    [class.active]="isCurrent(item)">{{item | date:'EE'}}
                </div>
            </div>
            <!--week day-->
            <div class="flex-row" 
                *ngIf="timeSpan === 'day'">
                <div>{{startDate | date:'EEEE'}}</div>
            </div>
            <!--days or hours-->
            <div class="flex-row">
                <div *ngFor="let item of getColumns(); let i = index"
                    [class.active]="isCurrent(item)">{{item}}
                </div>
            </div>
        </span>
    </div>

    <!--content-->
    <div class="scheduler-content">
        <div class="scheduler-content-row"
            *ngFor="let schedulerRow of schedulerRows">
             <!-- background -->
            <div class="background">
                <div>{{schedulerRow.label}}</div>
                <div #cellWidth
                    *ngFor="let item of getColumns()"
                    [class.active]="isCurrent(item)">
                </div>
            </div>
            <!-- foreground -->
            <div  *ngFor="let schedulerEvent of schedulerRow.schedulerEvents" >
                <div class="scheduler-event"
                    *ngIf="isBetween(schedulerEvent)"
                    [ngClass]="getClassStyle(schedulerEvent)"
                    [style.left.px]="getSchedulerEventLeftPosition(schedulerEvent.startDate)"
                    [style.width.px]="getSchedulerEventWidthPosition(schedulerEvent)"
                    (click)="schedulerEventClicked(schedulerEvent)">{{schedulerEvent.label}}
                </div>
            </div>
            
        </div>
    </div>

</div>